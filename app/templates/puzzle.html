<nav aria-label="Puzzle navigation">
  <ul class="pagination">
    {% if pagination.previous %}
    <li class="page-item"><a class="page-link" href="/puzzles/{{ pagination.previous }}">Previous</a></li>
    {% else %}
    <li class="page-item disabled"><a class="page-link" href="">Previous</a></li>
    {% endif %}
    {% if pagination.next %}
    <li class="page-item"><a class="page-link" href="/puzzles/{{ pagination.next }}">Next</a></li>
    {% else %}
    <li class="page-item disabled"><a class="page-link" href="">Next</a></li>
    {% endif %}
  </ul>
</nav>

<div class="card">
  <h2 class="card-header">
    {{ puzzle.title }}
    {% if user.admin %}
    <a class="btn btn-primary btn-sm float-end" href="/admin/puzzles/{{ puzzle.id }}/edit" role="button">Edit</a>
    {% endif %}
  </h2>
  <div class="card-body">
    <h5 class="card-title">{{ publication.name }}</h5>
    <p class="card-subtitle">{{ puzzle.issue if puzzle.issue else puzzle.date.strftime('%A, %B %-d, %Y') }}</p>
    <p class="card-text">
      <small class="text-muted">
        Links:
        {% if puzzle.web_link %}
        <a href="{{ puzzle.web_link }}" target="_hex_puzzle">Web</a>
        {% endif %}
        {% if puzzle.puzzle_link %}
        <a href="{{ puzzle.puzzle_link }}" target="_hex_puzzle">Puzzle</a>
        {% endif %}
        {% if puzzle.answer_link %}
        <a href="{{ puzzle.answer_link }}" target="_hex_puzzle">Answer</a>
        {% endif %}
      </small>
    </p>
    {% if user.id %}
    <p class="card-text">
      {% if not solved %}
      <a class="btn btn-sm btn-secondary" href="/puzzles/{{ puzzle.id }}/solve">Unsolved</a>
      {% else %}
      <a class="btn btn-sm btn-success" href="/puzzles/{{ puzzle.id }}/unsolve">Solved</a>
      {% endif %}
    </p>
    {% endif %}
    <div class="col container">
      {% if puzzle_url %}
      <a href="{{ puzzle.puzzle_link }}" target="_hex_puzzle"><img class="px-5 center-block img-fluid" src="{{ puzzle_url }}"></a>
      {% endif %}
    </div>
  </div>
</div>
